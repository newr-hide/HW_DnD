{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ajs/./src/js/app.js","webpack://ajs/webpack/bootstrap","webpack://ajs/webpack/runtime/compat get default export","webpack://ajs/webpack/runtime/define property getters","webpack://ajs/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["const columns = document.querySelectorAll(('.column_container')).forEach(column => {\n    const buttonCreateElement = column.querySelector('.button_create_element');\n    const myForm = column.querySelector('.task_form');\n    \n    const tasks = column.querySelector('.tasks_container');\n \n    let taskInput = document.createElement('input');\n    taskInput.type = 'text';\n    taskInput.placeholder = 'Введите новую задачу';\n    taskInput.classList.add('input_task');\n   \n\n    let btnAddTask = document.createElement('button');\n    btnAddTask.classList.add('btn_add_task');\n    btnAddTask.innerText = '+ Добавить задачу';\n\n    // Кнопка на форме\n    let btnDeleteTask = document.createElement('button');\n    btnDeleteTask.classList.add('button_delete_element');\n\n    // Изначально спрятаны\n    taskInput.style.display = 'none';\n    btnAddTask.style.display = 'none';\n    btnDeleteTask.style.display = 'none';\n\n    column.insertBefore(taskInput, column.lastElementChild);\n    myForm.insertBefore(btnAddTask, myForm.lastElementChild);\n    myForm.insertBefore(btnDeleteTask, myForm.lastElementChild);\n\n\n    function handleAddTaskClick() {\n        const value = taskInput.value.trim();\n\n        if (value === '') return;\n\n        let newTaskItem = document.createElement('div');\n        newTaskItem.classList.add('task');\n\n        newTaskItem.textContent = value;\n        // newTaskItem.draggable = true;\n\n        // Кнопка на задаче\n        let btnRemoveTask = document.createElement('button');\n        btnRemoveTask.classList.add('button_delete_element');\n        btnRemoveTask.classList.add('hidden');\n        \n\n\n        btnRemoveTask.addEventListener('click', () => removeTask(newTaskItem));\n\n        newTaskItem.appendChild(btnRemoveTask);\n        tasks.prepend(newTaskItem);\n        const task = column.querySelector('.task');\n        task.addEventListener('mouseover', () => {btnRemoveTask.classList.remove('hidden')});\n        task.addEventListener('mouseout', () => {btnRemoveTask.classList.add('hidden')});\n        taskInput.value = ''; \n\n        taskInput.style.display = 'none';\n        btnAddTask.style.display = 'none';\n        btnDeleteTask.style.display = 'none';\n\n        buttonCreateElement.classList.remove('hidden'); \n}\n\nbtnAddTask.addEventListener('click', handleAddTaskClick);\n\nbuttonCreateElement.addEventListener('click', function(e) {\n    e.preventDefault();\n\n    \n    taskInput.style.display = 'block';\n    btnAddTask.style.display = 'inline-block';\n    btnDeleteTask.style.display = 'inline-block';\n\n    \n    this.classList.add('hidden');\n});\n    btnDeleteTask.addEventListener('click', removeContentInput)\n\nfunction removeTask(taskItem) {\n    taskItem.remove();\n}\n\nfunction removeContentInput() {\n    taskInput.value = '';\n\n     taskInput.style.display = 'none';\n    btnAddTask.style.display = 'none';\n    btnDeleteTask.style.display = 'none';\n\n    buttonCreateElement.classList.remove('hidden');\n\n}\n\nmyForm.addEventListener('submit', function(event) {\n    event.preventDefault(); \n});\n\n\n\n// DnD\nlet shift;\nlet fantomElement;\nlet draggedElement;\nlet padding = 10;\n\nconst onMouseMove = (e) => {\n    const targetTask = e.target.closest(\".task\");\n    if (!draggedElement) return;\n\n    if(!(e.target instanceof HTMLElement)) \n        return;\n\n    draggedElement.style.left = e.pageX - shift.x + \"px\";\n    draggedElement.style.top = e.pageY - shift.y + \"px\";\n\n    if (!targetTask && !e.target.classList.contains(\"tasks_container\")) {\n        return;\n      }\n\n      if (e.target.classList.contains(\"tasks_container\")) {\n       \n        const arrTasks = Array.from(e.target.children).filter(\n          (task) =>\n            !task.classList.contains(\"dragged\") &&\n            !task.classList.contains(\"fantom\"),\n        );  \n        \n        if (arrTasks.length === 0) {\n            fantomElement.remove();\n            e.target.append(fantomElement);\n            \n          } else {\n            \n            if (\n              e.clientY - padding >\n              arrTasks[arrTasks.length - 1].offsetTop +\n                arrTasks[arrTasks.length - 1].offsetHeight\n            ) {\n              \n            if (\n                !e.target.children[e.target.children.length - 1].classList.contains(\n                  \"fantom\",\n                )\n              ) {\n                fantomElement.remove();\n                e.target.append(fantomElement);\n              }\n            }\n           \n          }\n        }\n    \n        \n          if (targetTask) {\n          \n          const locationUp = positionUp(\n            targetTask.offsetTop,\n            targetTask.offsetHeight,\n            e.clientY - padding,\n          );\n    \n          if (locationUp &&\n            e.target.previousElementSibling &&\n            e.target.previousElementSibling.classList.contains(\"fantom\")\n          ) {\n            return;\n          }\n    \n          if (\n            !locationUp &&\n            e.target.nextElementSibling &&\n            e.target.nextElementSibling.classList.contains(\"fantom\")\n          ) {\n            return;\n          }\n\n          fantomElement.remove();\n          locationUp\n            ? targetTask.before(fantomElement)\n            : targetTask.after(fantomElement);\n        }\n        \n};\n\nconst onMouseUp = (e) => {\n    // console.log(e.target)\n    if (!fantomElement||!draggedElement) return;\n    \n    draggedElement.removeAttribute('style');\n    \n        fantomElement.before(draggedElement);\n        fantomElement.remove();\n        draggedElement.classList.remove('dragged');\n        draggedElement = null;\n        fantomElement = null;\n  \n    \n    document.documentElement.removeEventListener('mousemove', onMouseMove);\n    document.documentElement.removeEventListener('mouseup', onMouseUp);\n};\n\ntasks.addEventListener('mousedown', (event) => {\n    event.preventDefault();\n    // console.log(event.target)\n    \n    draggedElement = event.target.closest('.task');\n    draggedElement.style.width = '522px';\n    draggedElement.style.height = '40px';\n    if (!draggedElement) return;\n    \n\n    if(event.target.classList.contains('button_delete_element')) \n        {draggedElement.remove();\n             return};\n\n    const rect = draggedElement.getBoundingClientRect();\n    initialOffsetX = event.clientX - rect.left;\n    initialOffsetY = event.clientY - rect.top;\n\n    draggedElement.classList.add('dragged');\n    fantomElement = document.createElement('div');\n    fantomElement.classList.add('fantom');\n    fantomElement.style.width = '522px';\n    fantomElement.style.height = '40px';\n\n    shift = {\n        x: event.clientX - draggedElement.getBoundingClientRect().left,\n        y: event.clientY - draggedElement.getBoundingClientRect().top + padding,\n      };\n    \n    draggedElement.before(fantomElement);\n\n    document.documentElement.addEventListener('mousemove', onMouseMove);\n    document.documentElement.addEventListener('mouseup', onMouseUp);\n});\n\n\nfunction positionUp(elemTop, elemheight, clientY) {\n    if (clientY > elemTop && clientY < elemTop + elemheight / 2) {\n      return true;\n    }\n    return false;\n  }\n\n})","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["document","querySelectorAll","forEach","column","buttonCreateElement","querySelector","myForm","tasks","taskInput","createElement","type","placeholder","classList","add","btnAddTask","innerText","shift","fantomElement","draggedElement","btnDeleteTask","style","display","insertBefore","lastElementChild","addEventListener","value","trim","newTaskItem","textContent","btnRemoveTask","remove","appendChild","prepend","task","e","preventDefault","this","event","onMouseMove","targetTask","target","closest","HTMLElement","left","pageX","x","top","pageY","y","contains","arrTasks","Array","from","children","filter","length","append","clientY","offsetTop","offsetHeight","locationUp","elemTop","elemheight","previousElementSibling","nextElementSibling","before","after","onMouseUp","removeAttribute","documentElement","removeEventListener","width","height","rect","getBoundingClientRect","initialOffsetX","clientX","initialOffsetY","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"sourceRoot":""}