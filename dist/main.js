(()=>{var e={930:()=>{document.querySelectorAll(".column_container").forEach(e=>{const t=e.querySelector(".button_create_element"),n=e.querySelector(".task_form"),s=e.querySelector(".tasks_container");let l=document.createElement("input");l.type="text",l.placeholder="Введите новую задачу",l.classList.add("input_task");let i=document.createElement("button");i.classList.add("btn_add_task"),i.innerText="+ Добавить задачу";let a,o,r,d=document.createElement("button");d.classList.add("button_delete_element"),l.style.display="none",i.style.display="none",d.style.display="none",e.insertBefore(l,e.lastElementChild),n.insertBefore(i,n.lastElementChild),n.insertBefore(d,n.lastElementChild),i.addEventListener("click",function(){const n=l.value.trim();if(""===n)return;let a=document.createElement("div");a.classList.add("task"),a.textContent=n;let o=document.createElement("button");o.classList.add("button_delete_element"),o.classList.add("hidden"),o.addEventListener("click",()=>{a.remove()}),a.appendChild(o),s.prepend(a);const r=e.querySelector(".task");r.addEventListener("mouseover",()=>{o.classList.remove("hidden")}),r.addEventListener("mouseout",()=>{o.classList.add("hidden")}),l.value="",l.style.display="none",i.style.display="none",d.style.display="none",t.classList.remove("hidden")}),t.addEventListener("click",function(e){e.preventDefault(),l.style.display="block",i.style.display="inline-block",d.style.display="inline-block",this.classList.add("hidden")}),d.addEventListener("click",function(){l.value="",l.style.display="none",i.style.display="none",d.style.display="none",t.classList.remove("hidden")}),n.addEventListener("submit",function(e){e.preventDefault()});const c=e=>{const t=e.target.closest(".task");if(r&&e.target instanceof HTMLElement&&(r.style.left=e.pageX-a.x+"px",r.style.top=e.pageY-a.y+"px",t||e.target.classList.contains("tasks_container"))){if(e.target.classList.contains("tasks_container")){const t=Array.from(e.target.children).filter(e=>!e.classList.contains("dragged")&&!e.classList.contains("fantom"));0===t.length?(o.remove(),e.target.append(o)):e.clientY-10>t[t.length-1].offsetTop+t[t.length-1].offsetHeight&&(e.target.children[e.target.children.length-1].classList.contains("fantom")||(o.remove(),e.target.append(o)))}if(t){const i=(n=t.offsetTop,s=t.offsetHeight,(l=e.clientY-10)>n&&l<n+s/2);if(i&&e.target.previousElementSibling&&e.target.previousElementSibling.classList.contains("fantom"))return;if(!i&&e.target.nextElementSibling&&e.target.nextElementSibling.classList.contains("fantom"))return;o.remove(),i?t.before(o):t.after(o)}}var n,s,l},u=e=>{o&&r&&(r.removeAttribute("style"),o.before(r),o.remove(),r.classList.remove("dragged"),r=null,o=null,document.documentElement.removeEventListener("mousemove",c),document.documentElement.removeEventListener("mouseup",u))};s.addEventListener("mousedown",e=>{if(e.preventDefault(),r=e.target.closest(".task"),r.style.width="522px",r.style.height="40px",!r)return;if(e.target.classList.contains("button_delete_element"))return void r.remove();const t=r.getBoundingClientRect();initialOffsetX=e.clientX-t.left,initialOffsetY=e.clientY-t.top,r.classList.add("dragged"),o=document.createElement("div"),o.classList.add("fantom"),o.style.width="522px",o.style.height="40px",a={x:e.clientX-r.getBoundingClientRect().left,y:e.clientY-r.getBoundingClientRect().top+10},r.before(o),document.documentElement.addEventListener("mousemove",c),document.documentElement.addEventListener("mouseup",u)})})}},t={};function n(s){var l=t[s];if(void 0!==l)return l.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(930)})()})();
//# sourceMappingURL=main.js.map