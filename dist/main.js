(()=>{var e={930:()=>{function e(){const e=document.querySelectorAll(".column_container"),t={};e.forEach(e=>{const n=e.querySelector(".title_container").textContent,s=e.querySelectorAll(".task"),o=Array.from(s).map(e=>e.textContent);t[n]=o}),localStorage.setItem("trello-data",JSON.stringify(t))}document.querySelectorAll(".column_container").forEach(t=>{const n=t.querySelector(".button_create_element"),s=t.querySelector(".task_form"),o=t.querySelector(".tasks_container"),l=document.createElement("input");l.type="text",l.placeholder="Введите новую задачу",l.classList.add("input_task");const a=document.createElement("button");a.classList.add("btn_add_task"),a.innerText="+ Добавить задачу";const i=document.createElement("button");let r,c,d;i.classList.add("button_delete_element"),l.style.display="none",a.style.display="none",i.style.display="none",t.insertBefore(l,t.lastElementChild),s.insertBefore(a,s.lastElementChild),s.insertBefore(i,s.lastElementChild),a.addEventListener("click",function(){const s=l.value.trim();if(""===s)return;const r=document.createElement("div");r.classList.add("task"),r.textContent=s;let c=document.createElement("button");c.classList.add("button_delete_element"),c.classList.add("hidden"),c.addEventListener("click",()=>(r.remove(),void e())),r.appendChild(c),o.prepend(r);const d=t.querySelector(".task");d.addEventListener("mouseover",()=>{c.classList.remove("hidden")}),d.addEventListener("mouseout",()=>{c.classList.add("hidden")}),l.value="",l.style.display="none",a.style.display="none",i.style.display="none",n.classList.remove("hidden"),e()}),n.addEventListener("click",function(e){e.preventDefault(),l.style.display="block",a.style.display="inline-block",i.style.display="inline-block",this.classList.add("hidden")}),i.addEventListener("click",function(){l.value="",l.style.display="none",a.style.display="none",i.style.display="none",n.classList.remove("hidden")}),s.addEventListener("submit",function(e){e.preventDefault()});const u=e=>{const t=e.target.closest(".task");if(d&&e.target instanceof HTMLElement&&(d.style.left=e.pageX-r.x+"px",d.style.top=e.pageY-r.y+"px",t||e.target.classList.contains("tasks_container"))){if(e.target.classList.contains("tasks_container")){const t=Array.from(e.target.children).filter(e=>!e.classList.contains("dragged")&&!e.classList.contains("fantom"));0===t.length?(c.remove(),e.target.append(c)):e.clientY-10>t[t.length-1].offsetTop+t[t.length-1].offsetHeight&&(e.target.children[e.target.children.length-1].classList.contains("fantom")||(c.remove(),e.target.append(c)))}if(t){const l=(n=t.offsetTop,s=t.offsetHeight,(o=e.clientY-10)>n&&o<n+s/2);if(l&&e.target.previousElementSibling&&e.target.previousElementSibling.classList.contains("fantom"))return;if(!l&&e.target.nextElementSibling&&e.target.nextElementSibling.classList.contains("fantom"))return;c.remove(),l?t.before(c):t.after(c)}}var n,s,o},m=t=>{c&&d&&(d.removeAttribute("style"),c.before(d),c.remove(),d.classList.remove("dragged"),d=null,c=null,document.documentElement.removeEventListener("mousemove",u),document.documentElement.removeEventListener("mouseup",m),e())};o.addEventListener("mousedown",e=>{if(e.preventDefault(),d=e.target.closest(".task"),!d)return;if(d.style.width=d.clientWidth+"px",d.style.height=d.clientHeight+"px",e.target.classList.contains("button_delete_element"))return void d.remove();const t=d.getBoundingClientRect();initialOffsetX=e.clientX-t.left,initialOffsetY=e.clientY-t.top,c=document.createElement("div"),c.classList.add("fantom"),r={x:e.clientX-d.getBoundingClientRect().left,y:e.clientY-d.getBoundingClientRect().top+10},d.before(c),d.classList.add("dragged"),document.documentElement.addEventListener("mousemove",u),document.documentElement.addEventListener("mouseup",m)})}),window.onload=function(){const t=localStorage.getItem("trello-data");if(t){const n=JSON.parse(t);Object.keys(n).forEach(t=>{document.querySelectorAll(".column_container h2").forEach(s=>{if(s.textContent.includes(t)){const o=s.parentNode.querySelector(".tasks_container");n[t].forEach(t=>{const n=document.createElement("div");n.className="task",n.textContent=t;const s=document.createElement("button");s.className="button_delete_element",s.addEventListener("click",()=>{n.remove(),e()}),n.appendChild(s),o.appendChild(n)})}})})}}}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var l=t[s]={exports:{}};return e[s](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(930)})()})();
//# sourceMappingURL=main.js.map