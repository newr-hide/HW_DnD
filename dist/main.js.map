{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ajs/./src/js/app.js","webpack://ajs/webpack/bootstrap","webpack://ajs/webpack/runtime/compat get default export","webpack://ajs/webpack/runtime/define property getters","webpack://ajs/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["const columns = document.querySelectorAll(('.column_container')).forEach((column) => {\n  const buttonCreateElement = column.querySelector('.button_create_element');\n  const myForm = column.querySelector('.task_form');\n\n  const tasks = column.querySelector('.tasks_container');\n  const taskInput = document.createElement('input');\n  taskInput.type = 'text';\n  taskInput.placeholder = 'Введите новую задачу';\n  taskInput.classList.add('input_task');\n   \n  const btnAddTask = document.createElement('button');\n  btnAddTask.classList.add('btn_add_task');\n  btnAddTask.innerText = '+ Добавить задачу';\n\n    // Кнопка на форме\n  const btnDeleteTask = document.createElement('button');\n  btnDeleteTask.classList.add('button_delete_element');\n\n    // Изначально спрятаны\n  taskInput.style.display = 'none';\n  btnAddTask.style.display = 'none';\n  btnDeleteTask.style.display = 'none';\n\n  column.insertBefore(taskInput, column.lastElementChild);\n  myForm.insertBefore(btnAddTask, myForm.lastElementChild);\n  myForm.insertBefore(btnDeleteTask, myForm.lastElementChild);\n\n    function handleAddTaskClick() {\n        const value = taskInput.value.trim();\n\n        if (value === '') return;\n\n        const newTaskItem = document.createElement('div');\n        newTaskItem.classList.add('task');\n\n        newTaskItem.textContent = value;\n        // newTaskItem.draggable = true;\n\n        // Кнопка на задаче\n        let btnRemoveTask = document.createElement('button');\n        btnRemoveTask.classList.add('button_delete_element');\n        btnRemoveTask.classList.add('hidden');\n        \n        btnRemoveTask.addEventListener('click', () => removeTask(newTaskItem));\n\n        newTaskItem.appendChild(btnRemoveTask);\n        tasks.prepend(newTaskItem);\n        const task = column.querySelector('.task');\n        task.addEventListener('mouseover', () => {btnRemoveTask.classList.remove('hidden');});\n        task.addEventListener('mouseout', () => {btnRemoveTask.classList.add('hidden');});\n        taskInput.value = ''; \n\n        taskInput.style.display = 'none';\n        btnAddTask.style.display = 'none';\n        btnDeleteTask.style.display = 'none';\n        buttonCreateElement.classList.remove('hidden'); \n\n        saveColumns();\n}\n\nbtnAddTask.addEventListener('click', handleAddTaskClick);\n\nbuttonCreateElement.addEventListener('click', function(e) {\n    e.preventDefault();\n\n    taskInput.style.display = 'block';\n    btnAddTask.style.display = 'inline-block';\n    btnDeleteTask.style.display = 'inline-block';\n\n    this.classList.add('hidden');\n});\n    btnDeleteTask.addEventListener('click', removeContentInput);\n\nfunction removeTask(taskItem) {\n    taskItem.remove();\n    saveColumns();\n}\n\nfunction removeContentInput() {\n    taskInput.value = '';\n\n     taskInput.style.display = 'none';\n    btnAddTask.style.display = 'none';\n    btnDeleteTask.style.display = 'none';\n\n    buttonCreateElement.classList.remove('hidden');\n}\n\nmyForm.addEventListener('submit', function(event) {\n    event.preventDefault(); \n});\n\n\n\n\n// DnD\nlet shift;\nlet fantomElement;\nlet draggedElement;\nlet padding = 10;\n\nconst onMouseMove = (e) => {\n    const targetTask = e.target.closest(\".task\");\n    if (!draggedElement) return;\n\n    if(!(e.target instanceof HTMLElement)) \n        return;\n\n    draggedElement.style.left = e.pageX - shift.x + \"px\";\n    draggedElement.style.top = e.pageY - shift.y + \"px\";\n\n    if (!targetTask && !e.target.classList.contains(\"tasks_container\")) {\n        return;\n      }\n\n      if (e.target.classList.contains(\"tasks_container\")) {\n       \n        const arrTasks = Array.from(e.target.children).filter(\n          (task) =>\n            !task.classList.contains(\"dragged\") &&\n            !task.classList.contains(\"fantom\"));\n        if (arrTasks.length === 0) {\n            fantomElement.remove();\n            e.target.append(fantomElement);\n          }else{\n            if (e.clientY - padding >\n                arrTasks[arrTasks.length - 1].offsetTop +\n                arrTasks[arrTasks.length - 1].offsetHeight) {\n              \n            if (\n                !e.target.children[e.target.children.length - 1].classList.contains(\n                  \"fantom\"))\n               {\n                fantomElement.remove();\n                e.target.append(fantomElement);\n              }\n            }\n           \n          }\n        }\n    \n          if (targetTask) {\n          \n          const locationUp = positionUp(\n            targetTask.offsetTop,\n            targetTask.offsetHeight,\n            e.clientY - padding);\n    \n          if (locationUp &&\n            e.target.previousElementSibling &&\n            e.target.previousElementSibling.classList.contains(\"fantom\")\n          ) {\n            return;\n          }\n    \n          if (\n            !locationUp &&\n            e.target.nextElementSibling &&\n            e.target.nextElementSibling.classList.contains(\"fantom\")\n          ) {\n            return;\n          }\n\n          fantomElement.remove();\n          locationUp\n            ? targetTask.before(fantomElement)\n            : targetTask.after(fantomElement);\n        }\n};\n\nconst onMouseUp = (e) => {\n    // console.log(e.target)\n    if (!fantomElement||!draggedElement) return;\n    \n    draggedElement.removeAttribute('style');\n    \n        fantomElement.before(draggedElement);\n        fantomElement.remove();\n        draggedElement.classList.remove('dragged');\n        draggedElement = null;\n        fantomElement = null;\n  \n    document.documentElement.removeEventListener('mousemove', onMouseMove);\n    document.documentElement.removeEventListener('mouseup', onMouseUp);\n    saveColumns();\n};\n\ntasks.addEventListener('mousedown', (event) => {\n    event.preventDefault();\n    // console.log(event.target)\n    \n    draggedElement = event.target.closest('.task');\n    if (!draggedElement) return;\n    draggedElement.style.width = draggedElement.clientWidth + 'px';\n    draggedElement.style.height = draggedElement.clientHeight + 'px';\n    \n    if(event.target.classList.contains('button_delete_element')) \n        {draggedElement.remove();\n             return;};\n\n    const rect = draggedElement.getBoundingClientRect();\n    initialOffsetX = event.clientX - rect.left;\n    initialOffsetY = event.clientY - rect.top;\n\n    fantomElement = document.createElement('div');\n    fantomElement.classList.add('fantom');\n    \n    shift = {\n        x: event.clientX - draggedElement.getBoundingClientRect().left,\n        y: event.clientY - draggedElement.getBoundingClientRect().top + padding,\n      };\n    \n    draggedElement.before(fantomElement);\n    draggedElement.classList.add('dragged');\n\n    document.documentElement.addEventListener('mousemove', onMouseMove);\n    document.documentElement.addEventListener('mouseup', onMouseUp);\n});\n\nfunction positionUp(elemTop, elemheight, clientY) {\n    if (clientY > elemTop && clientY < elemTop + elemheight / 2) {\n      return true;\n    }\n    return false;\n  }\n});\n\n// storage\nfunction saveColumns() {\n  const columns = document.querySelectorAll('.column_container');\n  const data = {};\n\n  columns.forEach(col => {\n    const colTitle = col.querySelector('.title_container').textContent;\n    const tasks = col.querySelectorAll('.task');\n    const taskTexts = Array.from(tasks).map(t => t.textContent);\n    data[colTitle] = taskTexts;\n  });\n\n  localStorage.setItem('trello-data', JSON.stringify(data));\n}\n\nwindow.onload = function() {\n  const storedData = localStorage.getItem('trello-data');\n  if (storedData) {\n    const parsedData = JSON.parse(storedData);\n    Object.keys(parsedData).forEach(title => {\n      const h2Elements = document.querySelectorAll('.column_container h2');\n      h2Elements.forEach(h2 => {\n        if (h2.textContent.includes(title)) {\n          const parentColumn = h2.parentNode;\n          const tasksContainer = parentColumn.querySelector('.tasks_container');\n          \n          parsedData[title].forEach(text => {\n            const taskDiv = document.createElement('div');\n            taskDiv.className = 'task';\n            taskDiv.textContent = text;\n            \n            const delBtn = document.createElement('button');\n            delBtn.className = 'button_delete_element';\n            delBtn.addEventListener('click', () => {\n              taskDiv.remove();\n              saveColumns();\n            });\n            \n            taskDiv.appendChild(delBtn);\n            tasksContainer.appendChild(taskDiv);\n          });\n        }\n      });\n    });\n  }\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["saveColumns","columns","document","querySelectorAll","data","forEach","col","colTitle","querySelector","textContent","tasks","taskTexts","Array","from","map","t","localStorage","setItem","JSON","stringify","column","buttonCreateElement","myForm","taskInput","createElement","type","placeholder","classList","add","btnAddTask","innerText","btnDeleteTask","shift","fantomElement","draggedElement","style","display","insertBefore","lastElementChild","addEventListener","value","trim","newTaskItem","btnRemoveTask","remove","appendChild","prepend","task","e","preventDefault","this","event","onMouseMove","targetTask","target","closest","HTMLElement","left","pageX","x","top","pageY","y","contains","arrTasks","children","filter","length","append","clientY","offsetTop","offsetHeight","locationUp","elemTop","elemheight","previousElementSibling","nextElementSibling","before","after","onMouseUp","removeAttribute","documentElement","removeEventListener","width","clientWidth","height","clientHeight","rect","getBoundingClientRect","initialOffsetX","clientX","initialOffsetY","window","onload","storedData","getItem","parsedData","parse","Object","keys","title","h2","includes","tasksContainer","parentNode","text","taskDiv","className","delBtn","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"sourceRoot":""}