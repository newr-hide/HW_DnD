{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ajs/./src/js/app.js","webpack://ajs/webpack/bootstrap","webpack://ajs/webpack/runtime/compat get default export","webpack://ajs/webpack/runtime/define property getters","webpack://ajs/webpack/runtime/hasOwnProperty shorthand","webpack://ajs/./src/index.js"],"sourcesContent":["const columns = document.querySelectorAll(('.column_container')).forEach(column => {\n    const buttonCreateElement = column.querySelector('.button_create_element');\n    const myForm = column.querySelector('.task_form');\n    \n    const tasks = column.querySelector('.tasks_container');\n \n    let taskInput = document.createElement('input');\n    taskInput.type = 'text';\n    taskInput.placeholder = 'Введите новую задачу';\n    taskInput.classList.add('input_task');\n   \n\n    let btnAddTask = document.createElement('button');\n    btnAddTask.classList.add('btn_add_task');\n    btnAddTask.innerText = '+ Добавить задачу';\n\n    // Кнопка на форме\n    let btnDeleteTask = document.createElement('button');\n    btnDeleteTask.classList.add('button_delete_element');\n\n    // Изначально спрятаны\n    taskInput.style.display = 'none';\n    btnAddTask.style.display = 'none';\n    btnDeleteTask.style.display = 'none';\n\n    column.insertBefore(taskInput, column.lastElementChild);\n    myForm.insertBefore(btnAddTask, myForm.lastElementChild);\n    myForm.insertBefore(btnDeleteTask, myForm.lastElementChild);\n\n\n    function handleAddTaskClick() {\n        const value = taskInput.value.trim();\n\n        if (value === '') return;\n\n        let newTaskItem = document.createElement('div');\n        newTaskItem.classList.add('task');\n\n        newTaskItem.textContent = value;\n        // newTaskItem.draggable = true;\n\n        // Кнопка на задаче\n        let btnRemoveTask = document.createElement('button');\n        btnRemoveTask.classList.add('button_delete_element');\n        btnRemoveTask.classList.add('hidden');\n        \n\n\n        btnRemoveTask.addEventListener('click', () => removeTask(newTaskItem));\n\n        newTaskItem.appendChild(btnRemoveTask);\n        tasks.prepend(newTaskItem);\n        const task = column.querySelector('.task');\n        task.addEventListener('mouseover', () => {btnRemoveTask.classList.remove('hidden')});\n        task.addEventListener('mouseout', () => {btnRemoveTask.classList.add('hidden')});\n        taskInput.value = ''; \n\n        taskInput.style.display = 'none';\n        btnAddTask.style.display = 'none';\n        btnDeleteTask.style.display = 'none';\n\n        buttonCreateElement.classList.remove('hidden'); \n}\n\nbtnAddTask.addEventListener('click', handleAddTaskClick);\n\nbuttonCreateElement.addEventListener('click', function(e) {\n    e.preventDefault();\n\n    \n    taskInput.style.display = 'block';\n    btnAddTask.style.display = 'inline-block';\n    btnDeleteTask.style.display = 'inline-block';\n\n    \n    this.classList.add('hidden');\n});\n    btnDeleteTask.addEventListener('click', removeContentInput)\n\nfunction removeTask(taskItem) {\n    taskItem.remove();\n}\n\nfunction removeContentInput() {\n    taskInput.value = '';\n\n     taskInput.style.display = 'none';\n    btnAddTask.style.display = 'none';\n    btnDeleteTask.style.display = 'none';\n\n    buttonCreateElement.classList.remove('hidden');\n\n}\n\nmyForm.addEventListener('submit', function(event) {\n    event.preventDefault(); \n});\n\n\n\n// DnD\n\n\nlet draggedElement;\nlet initialOffsetX, initialOffsetY; \n\nconst onMouseMove = (e) => {\n    tasks.insertBefore(fantomElement,e.target)\n    let x = e.clientX;\n    let y = e.clientY;\n    draggedElement.style.pointerEvents = 'none';\n    // Определяем элемент под этими координатами\n    let elementUnderCursor = document.elementFromPoint(x, y);\n    console.log(`Контент элемента: ${elementUnderCursor.innerHTML}`);\n    \n    if (!draggedElement) return;\n    \n   \n    const newTop = e.clientY - initialOffsetY;\n    const newLeft = e.clientX - initialOffsetX;\n    draggedElement.style.top = `${newTop}px`;\n    draggedElement.style.left = `${newLeft}px`;\n};\n\n\nconst onMouseUp = (e) => {\n    if (!draggedElement) return;\n\n    // Сначала найдем правильное место для вставки\n    let insertionTarget = null;\n    for (let i = 0; i < tasks.children.length; i++) {\n        const child = tasks.children[i];\n        const boundingRect = child.getBoundingClientRect();\n        \n        // Проверяем, находится ли мышь НАД верхней границей элемента\n        if (e.clientY < boundingRect.bottom) { // Мышь выше нижней границы текущего элемента\n            insertionTarget = child;\n            break;\n        }\n    }\n\n    // Если нашли подходящий элемент, вставляем перед ним\n    if (insertionTarget) {\n        tasks.insertBefore(draggedElement, insertionTarget);\n    } else {\n        // Если подходящего элемента нет, добавляем в конец списка\n        tasks.appendChild(draggedElement);\n    }\n\n    // Завершаем процесс перетаскивания\n    draggedElement.classList.remove('dragged');\n    draggedElement.style.cursor = 'auto';\n    draggedElement = null;\n    document.documentElement.removeEventListener('mousemove', onMouseMove);\n    document.documentElement.removeEventListener('mouseup', onMouseUp);\n};\n\n// const onMouseUp = (e) => {\n//     mouseUrItem = e.target;\n//     console.log(draggedElement)\n//     draggedElement.style.cursor ='auto';\n//     tasks.appendChild(draggedElement)\n//     draggedElement.classList.remove('dragged');\n//     draggedElement = undefined;\n//     document.documentElement.removeEventListener('mousemove', onMouseMove);\n//     document.documentElement.removeEventListener('mouseup', onMouseUp);\n// };\n\n\ntasks.addEventListener('mousedown', (event) => {\n    event.preventDefault();\n    console.log(event.target)\n    \n    draggedElement = event.target.closest('.task');\n    draggedElement.style.cursor = 'grabbing';\n    if (!draggedElement) return;\n\n    if(event.target.classList.contains('button_delete_element')) \n        {draggedElement.remove();\n             return};\n\n    const rect = draggedElement.getBoundingClientRect();\n    initialOffsetX = event.clientX - rect.left;\n    initialOffsetY = event.clientY - rect.top;\n\n    draggedElement.classList.add('dragged');\n    let fantomElement = document.createElement('div');\n    fantomElement.classList.add('fantom');\n    draggedElement.parentNode.insertBefore(fantomElement, draggedElement);\n\n\n    \n    document.documentElement.addEventListener('mousemove', onMouseMove);\n    document.documentElement.addEventListener('mouseup', onMouseUp);\n});\n\n\n})\n\n\n\n\n        \n\n\n\n// // document.querySelectorAll('.column_container').forEach((col) => {\n//     column.addEventListener('dragstart', (event) => {\n//         event.dataTransfer.setData(\"text/plain\", event.target.outerHTML);\n//         // console.log(event.target);\n//         event.dataTransfer.effectAllowed = 'move';\n//         originalElement = event.target;\n        \n//     });\n\n//     // let placeholder = document.createElement('div');\n//     // placeholder.classList.add('placeholder');\n\n//     // tasks.addEventListener('dragenter', () => {\n//     //     tasks.insertBefore(placeholder, null);\n//     // });\n\n//     // tasks.addEventListener('dragleave', () => {\n        \n//     //     placeholder.parentNode?.removeChild(placeholder);\n//     // });\n\n\n\n//     tasks.addEventListener('dragover', (e) => {\n//         e.preventDefault();\n//         e.dataTransfer.dropEffect = 'move';\n        \n\n//     });\n\n//     tasks.addEventListener('drop', (e) => {\n//         e.preventDefault();\n//         const draggedElHTML = e.dataTransfer.getData('text');\n//         const draggedEl = document.createElement('div');\n//         draggedEl.innerHTML = draggedElHTML;\n//         if (originalElement && originalElement.parentNode.contains(originalElement)) {\n//             originalElement.parentNode.removeChild(originalElement);\n//         }\n\n//     tasks.insertAdjacentElement('beforeend', draggedEl);\n\n//     originalElement = null;\n//     })})","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import './css/style.css';\n\nimport './js/app';\nimport { newTaskInput } from './js/app';\nwindow.newTaskInput = newTaskInput;\n\n// TODO: write your code in app.js"],"names":["document","querySelectorAll","forEach","column","buttonCreateElement","querySelector","myForm","tasks","taskInput","createElement","type","placeholder","classList","add","btnAddTask","innerText","draggedElement","initialOffsetX","initialOffsetY","btnDeleteTask","style","display","insertBefore","lastElementChild","addEventListener","value","trim","newTaskItem","textContent","btnRemoveTask","remove","appendChild","prepend","task","e","preventDefault","this","event","onMouseMove","fantomElement","target","x","clientX","y","clientY","pointerEvents","elementUnderCursor","elementFromPoint","console","log","innerHTML","newTop","newLeft","top","left","onMouseUp","insertionTarget","i","children","length","child","boundingRect","getBoundingClientRect","bottom","cursor","documentElement","removeEventListener","closest","contains","rect","parentNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","newTaskInput"],"sourceRoot":""}